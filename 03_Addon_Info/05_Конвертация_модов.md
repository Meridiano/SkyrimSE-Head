# Конвертация модов

Краткая справка для желающих перенести мод с SLE на SSE.

------

#### Шаг 1.
**Из чего состоит оригинал.**

Для начала нужно посмотреть, находятся ли ресурсы мода в архиве (формат .bsa) или в свободном виде (т.н. loose-файлы). Если в моде есть архив, его нужно распаковать - для этого хорошо подходит утилита [B.A.E.](https://www.nexusmods.com/fallout4/mods/78/), у которой даже есть [гайд от GamerPoets](https://www.nexusmods.com/skyrimspecialedition/mods/8055/).

Если мод состоит из одного esp-файла, то переходи сразу к [Шагу 3](#Шаг-3).

------

#### Шаг 2.
**Обработка ресурсов.**

Итак, у тебя есть loose-файлы мода, разложенные по папкам. В основном это:
+ meshes
+ textures
+ scripts
+ sound
+ SKSE

Подробнее о каждой.

2.1) **Meshes** - это папка с моделями для игры. К сожалению, в SSE Беседка сильно изменила конструкцию моделей, сделав один BSTriShape вместо NiTriShape и NiTriShapeData. Поэтому тебе скорее всего придётся воспользоваться утилитой [SSE NIF Optimizer](https://www.nexusmods.com/skyrimspecialedition/mods/4089/). Инструкции легко находятся.

> Также в этой папке могут находиться анимации - файлы формата HKX. В новом Creation Kit 64 помимо прочего есть инструмент, который позволяет конвертировать их, подробнее - в [этом гайде](https://www.nexusmods.com/skyrimspecialedition/mods/2970).

2.2) **Textures** - это папка с текстурами. К счастью, Беседка не стала отказываться от формата DXT5 в угоду новому BC7 (почитать про него можно [на Реддите](https://www.reddit.com/r/skyrimmods/comments/5h6c0p/texture_compression_and_you_skyrim_se_edition/)), поэтому исправлять текстуры как правило не нужно. Только если они не в TGA (но это встречается крайне редко), в этом случае их нужно конвертировать в DDS, непрозрачные - в формат DXT1, с прозрачностью - в DXT5 или BC7.

2.3) **Scripts** - это папка со скриптами - сценариями игры на языке Papyrus. Работа скриптов в игре пракически не изменилась (в основном Скайриму просто добавили несколько новых функций и эвентов), так что их тоже можно не трогать.

2.4) **Sounds** - звуки. Голоса или просто звуки чего-либо - всё это осталось в тех же форматах. Не нуждается в конвертации.

2.5) **SKSE** - бей тревогу, мод содержит что-то относящееся к SKSE (да ладно?), и если это плагин (DLL-библиотека), то работать на SSE он не будет. Ты можешь раздобыть исходный код этой крутой штуки и попробовать конвертировать её под SKSE64, но тебе понадобятся знания и софт по C++. Поверь мне, это сложно.

------

#### Шаг 3.
**Обработка плагина.**

2.1) Плагин должен иметь подходящую кодировку. SSE использует UTF-8, поэтому для кодировок, отличных от 1252, есть смысл перевести плагин в UTF-8 сразу. Это касается в первую очередь русскоязычных модов (в т.ч. переводов с английского). Для этого используй [xTranslator](https://www.nexusmods.com/skyrimspecialedition/mods/134/). Запусти его в режиме SkyrimSE, загрузи в него плагин, согласись использовать среду SkyrimSE и укажи оригинальную кодировку (справа вверху). Для русского языка это 1251. Если все строки читаемы, сохраняй плагин - он примет кодировку UTF-8.

2.2) Теперь тебе потребуется новый Creation Kit 64. Скачай его у Беседки или своруй откуда-нибудь ещё. Главное - это актуальная версия. Загрузи плагин в CK64 как активный, а когда всё будет готово - просто сохрани его как новый с тем же именем, т.е. произведи замену.

> На самом деле эта операция спорная. От себя могу сказать, что многие моды работают в SSE уже после изменения кодировки, и им не требуется пересохранение в CK64. Скорее всего, есть разные случаи.

------

#### Шаг 4.
**Тестирование в игре.**

Думаю, здесь всё понятно, подключаешь мод и плагин (если ещё не подключены) и начинаешь играть. Не перезаписывай старые сохранения (которые без конвертированного мода), чтобы всегда можно было вернуться к ним в случае проблем.

------

Если у тебя ещё остались вопросы, или что-то не получается, читай/смотри гайды:
+ [Darkfox127](https://www.youtube.com/watch?v=iOmMIr9ngTs) - обширно и понятно.
+ [Dirty Weasel Media](https://www.youtube.com/playlist?list=PLWMvEg2LxwXZLmwvxUGBayGrTSVxQfs1-) - начиная с 9-го видео.

------

|[*Назад к оглавлению*](../01_Оглавление.md)|
|:---:|
